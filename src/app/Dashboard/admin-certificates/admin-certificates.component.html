<section class="certificate-form-section py-3 py-md-5">
    <div >
      <div class="certificate-form-container">

        <!-- Edit Mode -->
        <form  [formGroup]="CertificateForm" (ngSubmit)="onSubmit()" class="Certificate-form">
          <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h4 font-weight-bold text-dark m-0">Add Certificate</h1>
          </div>
  
          <!-- Basic Info Section -->
          <div class="form-section mb-4">
            <h2 class="h5 mb-3">Feed Back</h2>
  
            <div class="mb-3">
              <label for="title" class="form-label" aria-required="true">Title</label>
              <input type="text" formControlName="title" class="form-control" id="title" placeholder="Enter Certificate title"
                aria-describedby="titleHelp" />
              <div id="titleHelp" class="form-text d-flex justify-content-between">
                <span *ngIf="
                    CertificateForm.get('title')?.hasError('required') &&
                    CertificateForm.get('title')?.touched
                  " class="text-danger">Title is required</span>
                <span>{{ characterCounts.title }}/100 characters</span>
              </div>
            </div>

                <div class="mb-3">
                    <label for="Content" class="form-label" aria-required="true">Content</label>
                    <input type="text" formControlName="content" class="form-control" id="content" placeholder="Enter Certificate Content"
                    aria-describedby="contentHelp" />
                    <div id="contentHelp" class="form-text d-flex justify-content-between">
                    <span *ngIf="
                        CertificateForm.get('content')?.hasError('required') &&
                        CertificateForm.get('content')?.touched
                        " class="text-danger">content is required</span>
                    <span>{{ characterCounts.title }}/1000 characters</span>
                    </div>
                </div>
            </div>
          <!-- Media Section -->
          <div class="form-section mb-4">
            <h2 class="h5 mb-3">Certificate Image</h2>
  
            <div class="mb-3">
              <label for="image" class="form-label">Featured Image</label>
              <div class="drop-zone" (dragover)="$event.preventDefault()" (drop)="onFileChange($event)">
                <input type="file" class="form-control" id="image" (change)="onFileChange($event)" accept="image/*" />
                <p class="text-center text-muted">
                  Drag and drop an image here or click to select
                </p>
              </div>
  
              <!-- Upload Progress -->
              <div *ngIf="uploadProgress > 0 && uploadProgress < 100" class="progress mt-2">
                <div class="progress-bar" role="progressbar" [style.width.%]="uploadProgress"
                  [attr.aria-valuenow]="uploadProgress" aria-valuemin="0" aria-valuemax="100">
                  {{ uploadProgress }}%
                </div>
              </div>
  
              <!-- Image Preview -->
              <div *ngIf="imagePreview" class="mt-3">
                <img [src]="imagePreview" alt="Preview" class="img-thumbnail" />
              </div>
            </div>
          </div>

         <!-- Update the submit button text -->
        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary flex-grow-1" [disabled]="CertificateForm.invalid || isLoading">
            {{ selectedCertificateId ? 'Update' : 'Submit' }}
          </button>
          <button type="button" class="btn btn-outline-danger" (click)="resetForm()">
            Clear
          </button>
        </div>
        
      <!-- Certificate Form -->
      <div class="certificate-form-container">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="h4 font-weight-bold text-dark m-0">
            {{ selectedCertificateId ? 'Edit Certificate' : 'Add Certificate' }}
          </h2>
          <button *ngIf="selectedCertificateId" class="btn btn-outline-secondary" (click)="resetForm()">
            Cancel Edit
          </button>
        </div>
        
      </div>
        </form>
      </div>
  
  
      <!-- Loading Spinner -->
      <div *ngIf="isLoading" class="loading-spinner">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
  
      <!-- Notification -->
      <div *ngIf="notification" class="alert" [ngClass]="{'alert-success': notification.type === 'success', 'alert-danger': notification.type === 'error'}">
        {{ notification.message }}
      </div>
      <div class="certificate-cards-container mb-4">
        <h2 class="h4 mb-3">Certificate Posts</h2>
        
        <div class="certificates-grid">
          <div *ngFor="let Certificate of Certificates" class="certificate-card">
            <div class="certificate-image">
              <img [src]="imageUrl+Certificate.imageName" [alt]="Certificate.title" class="card-img" 
                   >
            </div>
            <div class="certificate-content">
              <h3 class="certificate-title">{{ Certificate.title }}</h3>
              <p class="certificate-description">{{ Certificate.content }}</p>
              <div class="certificate-actions">
                <button class="btn btn-sm btn-outline-primary me-2" (click)="editCertificates(Certificate.id)">
                  Edit
                </button>
                <button class="btn btn-sm btn-outline-danger" (click)="deleteCertificate(Certificate.id)">
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Empty state message -->
        <div *ngIf="Certificates.length === 0" class="text-center py-5">
          <p class="text-muted">No certificates available</p>
        </div>
      </div>
      